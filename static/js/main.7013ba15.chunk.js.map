{"version":3,"sources":["components/OptionElement/index.js","components/FilterRow/index.js","components/Header/index.js","utils/api.js","utils/debounceHook.js","pages/EmployeePage/index.js","App.js","reportWebVitals.js","index.js"],"names":["OptionElement","props","name","value","FilterRow","className","data-toggle","href","aria-expanded","aria-controls","xmlns","width","height","fill","viewBox","d","id","htmlFor","type","placeholder","onChange","searchTerm","ref","forwardedRef","aria-label","defaultValue","names","map","index","roles","role","stateList","state","abbreviation","data-testid","onClick","clearFilter","Header","api","getEmployees","size","axios","get","then","res","data","employee","first_name","last_name","full_name","email","title","employment","city","address","country","username","phone_number","subscription","plan","status","term","useDebounce","delay","useState","debouncedValue","setDebouncedValue","useEffect","handler","setTimeout","clearTimeout","EmployeePage","employees","setEmployees","filter","setFilter","filterValue","setFilterValue","search","setSearch","debouncedSearchTerm","inputRef","useRef","API","e","console","log","JSON","stringify","includes","catch","err","expandRow","renderer","row","showExpandColumn","expandHeaderColumnRenderer","isAnyExpands","expandColumnRenderer","expanded","event","target","preventDefault","current","keyField","columns","dataField","text","sort","bootstrap4","hover","condensed","bordered","classes","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7013ba15.chunk.js","sourcesContent":["import React from \"react\";\n\nfunction OptionElement(props) {\n  return (\n    <option name={props.name} value={props.value}>\n      {props.name}\n    </option>\n  );\n}\n\nexport default OptionElement;\n","import React from \"react\";\nimport stateList from \"./state-list.json\";\nimport OptionElement from \"../OptionElement\";\n\nfunction FilterRow(props) {\n  return (\n    <>\n      <div className=\"row\">\n        <a\n          className=\"btn btn-link float-right ml-auto mr-3 mb-2\"\n          data-toggle=\"collapse\"\n          href=\"#collapsedControls\"\n          aria-expanded=\"false\"\n          aria-controls=\"collapseExample\"\n        >\n          {/* bootstrap svg icon for filter row expand */}\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"16\"\n            height=\"16\"\n            fill=\"currentColor\"\n            className=\"bi bi-gear-fill\"\n            viewBox=\"0 0 16 16\"\n          >\n            <path d=\"M9.405 1.05c-.413-1.4-2.397-1.4-2.81 0l-.1.34a1.464 1.464 0 0 1-2.105.872l-.31-.17c-1.283-.698-2.686.705-1.987 1.987l.169.311c.446.82.023 1.841-.872 2.105l-.34.1c-1.4.413-1.4 2.397 0 2.81l.34.1a1.464 1.464 0 0 1 .872 2.105l-.17.31c-.698 1.283.705 2.686 1.987 1.987l.311-.169a1.464 1.464 0 0 1 2.105.872l.1.34c.413 1.4 2.397 1.4 2.81 0l.1-.34a1.464 1.464 0 0 1 2.105-.872l.31.17c1.283.698 2.686-.705 1.987-1.987l-.169-.311a1.464 1.464 0 0 1 .872-2.105l.34-.1c1.4-.413 1.4-2.397 0-2.81l-.34-.1a1.464 1.464 0 0 1-.872-2.105l.17-.31c.698-1.283-.705-2.686-1.987-1.987l-.311.169a1.464 1.464 0 0 1-2.105-.872l-.1-.34zM8 10.93a2.929 2.929 0 1 1 0-5.86 2.929 2.929 0 0 1 0 5.858z\" />\n          </svg>\n        </a>\n      </div>\n      <div className=\"collapse\" id=\"collapsedControls\">\n        <form id=\"filterForm\">\n          <div className=\"form-row\">\n            <div className=\"col\">\n              <label className=\"sr-only\" htmlFor=\"inlineFormInputName2\">\n                Search\n              </label>\n              <input\n                type=\"text\"\n                className=\"form-control mb-2\"\n                id=\"inlineFormInputName2\"\n                placeholder=\"Search the table\"\n                onChange={props.searchTerm}\n                ref={props.forwardedRef}\n              />\n            </div>\n            <div className=\"col\">\n              <label className=\"sr-only\" htmlFor=\"nameFilter\">\n                Filter by Name:\n              </label>\n              <select\n                className=\"form-control form-select-sm\"\n                id=\"nameFilter\"\n                name=\"full_name\"\n                aria-label=\".form-select-sm example\"\n                onChange={props.onChange}\n              >\n                <option defaultValue>Select Name</option>\n                {props.names.map((name, index) => {\n                  return <OptionElement key={index} name={name} />;\n                })}\n              </select>\n            </div>\n            <div className=\"col\">\n              <label className=\"sr-only\" htmlFor=\"roleFilter\">\n                Filter by Role:\n              </label>\n              <select\n                className=\"form-control form-select-sm mb-2 mr-4\"\n                id=\"roleFilter\"\n                name=\"title\"\n                aria-label=\".form-select-sm example\"\n                onChange={props.onChange}\n              >\n                <option defaultValue>Select Role</option>\n                {props.roles.map((role, index) => {\n                  return <OptionElement key={index} name={role} />;\n                })}\n              </select>\n            </div>\n            <div className=\"col\">\n              <label className=\"sr-only\" htmlFor=\"stateFilter\">\n                Filter by State:\n              </label>\n              <select\n                className=\"form-control form-select-sm mb-2\"\n                id=\"stateFilter\"\n                name=\"state\"\n                aria-label=\".form-select-sm example\"\n                onChange={props.onChange}\n              >\n                {stateList.map((state) => {\n                  return <OptionElement key={state.abbreviation} value={state.name} name={state.name} />;\n                })}\n              </select>\n            </div>\n            <button className=\"btn btn-link float-right\" data-testid=\"openFilter\" onClick={props.clearFilter}>\n              Clear filters\n            </button>\n          </div>\n        </form>\n      </div>\n    </>\n  );\n}\n\nexport default FilterRow;\n","import React from \"react\";\nimport \"./style.css\";\n\nfunction Header() {\n  return (\n    <div className=\"jumbotron mb-1\">\n      <h1>\n        <a href=\"/\">Welcome to Canopy</a>\n      </h1>\n    </div>\n  );\n}\n\nexport default Header;\n","import axios from \"axios\";\nconst EMPLOYEE_LIST = \"./employees.json\";\n\nconst api = {\n  getEmployees: function (size) {\n    return axios.get(`${EMPLOYEE_LIST}`).then((res) => {\n      const employees = res.data;\n      return employees.map((employee) => {\n        return {\n          id: employee.id,\n          first_name: employee.first_name,\n          last_name: employee.last_name,\n          full_name: `${employee.first_name} ${employee.last_name}`,\n          email: employee.email,\n          title: employee.employment.title,\n          city: employee.address.city,\n          state: employee.address.state,\n          country: employee.address.country,\n          username: employee.username,\n          phone_number: employee.phone_number,\n          subscription: {\n            plan: employee.subscription.plan,\n            status: employee.subscription.status,\n            term: employee.subscription.term,\n          },\n        };\n      });\n    });\n  },\n};\n\nexport default api;\n","import { useEffect, useState } from \"react\";\n\nconst useDebounce = (value, delay) => {\n  const [debouncedValue, setDebouncedValue] = useState(value);\n  useEffect(\n    () => {\n      const handler = setTimeout(() => {\n        setDebouncedValue(value);\n      }, delay);\n      // Cancel the timeout if value or delay changes\n      return () => {\n        clearTimeout(handler);\n      };\n    },\n    // Only call the effect if value or delay changes.\n    [value, delay]\n  );\n\n  return debouncedValue;\n};\n\nexport default useDebounce;\n","import React, { useEffect, useRef, useState } from \"react\";\nimport FilterRow from \"../../components/FilterRow\";\nimport Header from \"../../components/Header\";\nimport API from \"../../utils/api\";\nimport useDebounce from \"../../utils/debounceHook\";\nimport BootstrapTable from \"react-bootstrap-table-next\";\n\nfunction EmployeePage() {\n  const [employees, setEmployees] = useState([]);\n  const [filter, setFilter] = useState(\"\");\n  const [filterValue, setFilterValue] = useState(\"\");\n  const [search, setSearch] = useState(\"\");\n\n  const debouncedSearchTerm = useDebounce(search, 500);\n  const inputRef = useRef();\n\n  const columns = [\n    {\n      dataField: \"id\",\n      text: \"ID\",\n    },\n    {\n      dataField: \"first_name\",\n      text: \"First Name\",\n      sort: true,\n    },\n    {\n      dataField: \"last_name\",\n      text: \"Last Name\",\n      sort: true,\n    },\n    {\n      dataField: \"title\",\n      text: \"Role\",\n      sort: true,\n    },\n    {\n      dataField: \"state\",\n      text: \"State\",\n      sort: true,\n    },\n  ];\n\n  useEffect(() => {\n    function loadEmployees() {\n      API.getEmployees()\n        .then((employees) => {\n          if (filter) {\n            // if filter has been set, filter the employee array by filterValue\n            setEmployees(employees.filter((e) => e[filter] === filterValue));\n          } else if (debouncedSearchTerm) {\n            console.log(\"debounced\", debouncedSearchTerm);\n            setEmployees(employees.filter((e) => JSON.stringify(e).includes(debouncedSearchTerm)));\n          } else {\n            // no filter has been set\n            setEmployees(employees);\n          }\n        })\n        .catch((err) => console.log(err));\n    }\n\n    loadEmployees();\n  }, [filter, filterValue, debouncedSearchTerm]);\n\n  const handleStateFilterChange = (event) => {\n    const filter = event.target.name;\n    const value = event.target.value;\n\n    // set the filter field (ie Role, Name, US State)\n    setFilter(filter);\n    // set the value of of the field we're looking for\n    setFilterValue(value);\n  };\n\n  const handleClearFilter = (event) => {\n    event.preventDefault();\n    // clear filter and search\n    setFilter(\"\");\n    setSearch(\"\");\n    // reset search input\n    inputRef.current.value = \"\";\n  };\n\n  const handleSearchInput = (event) => {\n    setSearch(event.target.value);\n  };\n\n  const expandRow = {\n    renderer: (row) => (\n      <div>\n        <h4>Employee Details</h4>\n        <p>Email: {row.email}</p>\n        <p>Phone: {row.phone_number}</p>\n        <p>Username: {row.username}</p>\n        <h4>Employee Status</h4>\n        <p>Plan: {row.subscription.plan}</p>\n        <p>Status: {row.subscription.status}</p>\n        <p>Term: {row.subscription.term}</p>\n      </div>\n    ),\n    showExpandColumn: true,\n    expandHeaderColumnRenderer: ({ isAnyExpands }) => {\n      if (isAnyExpands) {\n        return <b>-</b>;\n      }\n      return <b>+</b>;\n    },\n    expandColumnRenderer: ({ expanded }) => {\n      if (expanded) {\n        return <b>-</b>;\n      }\n      return <b>+</b>;\n    },\n  };\n\n  return (\n    <div className=\"container-fluid\">\n      <Header />\n      <FilterRow\n        names={employees.map((e) => e.full_name)}\n        roles={employees.map((e) => e.title)}\n        onChange={handleStateFilterChange}\n        clearFilter={handleClearFilter}\n        searchTerm={handleSearchInput}\n        forwardedRef={inputRef}\n      />\n      <div className=\"table-responsive\">\n        <BootstrapTable\n          keyField=\"id\"\n          columns={columns}\n          data={employees}\n          bootstrap4\n          hover\n          condensed\n          bordered\n          classes=\"table text-monospace\"\n          expandRow={expandRow}\n        ></BootstrapTable>\n      </div>\n    </div>\n  );\n}\n\nexport default EmployeePage;\n","import \"./App.css\";\nimport EmployeePage from \"../src/pages/EmployeePage\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <EmployeePage />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"bootstrap/dist/js/bootstrap.bundle.min\";\nimport \"react-bootstrap-table-next/dist/react-bootstrap-table2.min.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}